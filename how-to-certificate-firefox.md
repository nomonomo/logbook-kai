# 証明書のインストール（Firefox専用）

Firefoxは独自の証明書ストアを使用しますが、OSによってシステム証明書ストアとの関係が異なります。

**⚠️ 重要：** 
- **Windowsの場合**: FirefoxはWindowsのシステム証明書ストア（「信頼されたルート証明機関」など）も参照します。Windowsの証明書ストアに証明書を追加すれば、Firefoxでも使用できます。ただし、確実性を考慮してFirefoxの証明書マネージャーから直接インポートすることを推奨します。
- **macOSの場合**: FirefoxはmacOSのキーチェーンを使用しません。システムのキーチェーンに証明書を追加しても、Firefoxの証明書マネージャーから直接インポートする必要があります。

※Firefox Ver144.0 で動作確認済み

## インストール手順

### 1. 設定を開く

Firefoxのメニューから設定を開きます。

![設定](images/firefox_ca_1.png)

### 2. プライバシーとセキュリティを選択

左側のメニューから「プライバシーとセキュリティ」を選択し、「証明書」セクションまでスクロールして「証明書を表示...」をクリックします。

![プライバシーとセキュリティ](images/firefox_ca_2.png)

### 3. 証明書をインポート

証明書マネージャーが開いたら、「認証局証明書」タブで「インポート...」ボタンをクリックします。

![証明書の選択](images/firefox_ca_3.png)

### 4. 証明書ファイルを選択

ファイル選択ダイアログで、航海日誌のディレクトリにある `logbook-ca.crt` ファイルを選択してインポートします。  
この証明局によるウェブサイトの識別を信頼するにチェックボックスを付けてください

![設定](images/firefox_ca_4.png)

### 5. 確認

証明書マネージャーで証明書リストをスクロールし、「Logbook」が追加されていることを確認します。

![証明書の選択2](images/firefox_ca_5.png)

以上で完了です。

### ⚠️ Firefoxの再起動について

Firefoxの証明書マネージャーで証明書を追加した場合、基本的には**再起動は不要**です。

ただし、念のため**Firefoxを再起動した方が確実**です。証明書が正しく反映されない場合は、Firefoxを再起動してみてください。

### ⚠️ システム証明書ストアとの違い

Firefoxは独自の証明書ストアを使用しますが、OSによってシステム証明書ストアとの関係が異なります：

- **Windowsの場合**: FirefoxはWindowsのシステム証明書ストア（「信頼されたルート証明機関」など）も参照します。Windowsの証明書ストアに証明書を追加すれば、Firefoxでも使用できます。ただし、確実性を考慮して、Firefoxの証明書マネージャーから直接インポートすることを推奨します。

- **macOSの場合**: FirefoxはmacOSのキーチェーン（「ログイン」や「システム」キーチェーン）を使用しません。システムのキーチェーンに証明書を追加しても、Firefoxはそれを使用しません。Firefoxの証明書マネージャーから直接インポートする必要があります。

- **エラーが発生する場合**: `unknown_ca` や `certificate_unknown` エラーが発生する場合、Firefoxの証明書マネージャーに証明書が正しくインポートされているか確認してください。

---

[戻る](how-to-preference.md)